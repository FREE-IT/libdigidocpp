<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>libdigidocpp: digidoc::Container Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libdigidocpp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classdigidoc_1_1Container.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdigidoc_1_1Container-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">digidoc::Container Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Offers functionality for handling data files and signatures in a container.  
 <a href="classdigidoc_1_1Container.html#details">More...</a></p>

<p><code>#include &lt;Container.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4379bec955a2feadd5a494580aafab23"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23">DocumentType</a> { <a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23ac66e009f669f776fd10d4c878759cf89">AsicType</a>, 
<a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23aa4b8b3ebba2953695ebf5f82d1c9a92f">BDocType</a>, 
<a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23aeaab7081fc56ce06afd4d1ba7ce64f83">DDocType</a>
 }</td></tr>
<tr class="separator:a4379bec955a2feadd5a494580aafab23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0794e395ee9f937a130faa69428f1881"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a0794e395ee9f937a130faa69428f1881">Container</a> (<a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23">DocumentType</a> type=<a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23ac66e009f669f776fd10d4c878759cf89">AsicType</a>)</td></tr>
<tr class="separator:a0794e395ee9f937a130faa69428f1881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1748afa785f26c13d9c8825d4bbd998"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#ae1748afa785f26c13d9c8825d4bbd998">Container</a> (const std::string &amp;path)</td></tr>
<tr class="separator:ae1748afa785f26c13d9c8825d4bbd998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f5d07bfc3defda274aa06091c19f56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#ae9f5d07bfc3defda274aa06091c19f56">~Container</a> ()</td></tr>
<tr class="separator:ae9f5d07bfc3defda274aa06091c19f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1110ba7bf37171205e2da88e83fb360f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a1110ba7bf37171205e2da88e83fb360f">save</a> (const std::string &amp;path=&quot;&quot;)</td></tr>
<tr class="separator:a1110ba7bf37171205e2da88e83fb360f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac71c2169614a133ce183d3ec4f96ce"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a2ac71c2169614a133ce183d3ec4f96ce">mediaType</a> () const </td></tr>
<tr class="separator:a2ac71c2169614a133ce183d3ec4f96ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae690fb624e9cfb91b85a6b4c68375776"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#ae690fb624e9cfb91b85a6b4c68375776">addDataFile</a> (const std::string &amp;path, const std::string &amp;<a class="el" href="classdigidoc_1_1Container.html#a2ac71c2169614a133ce183d3ec4f96ce">mediaType</a>)</td></tr>
<tr class="separator:ae690fb624e9cfb91b85a6b4c68375776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad635fb5c44e73bc3335ddfdd463f8796"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#ad635fb5c44e73bc3335ddfdd463f8796">addDataFile</a> (std::istream *is, const std::string &amp;fileName, const std::string &amp;<a class="el" href="classdigidoc_1_1Container.html#a2ac71c2169614a133ce183d3ec4f96ce">mediaType</a>)</td></tr>
<tr class="separator:ad635fb5c44e73bc3335ddfdd463f8796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b7797f9a1546ee85e76ee8f0ccfc99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedigidoc.html#a36a87311e4d6c13ccad200433bbcadcf">DataFileList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a77b7797f9a1546ee85e76ee8f0ccfc99">dataFiles</a> () const </td></tr>
<tr class="separator:a77b7797f9a1546ee85e76ee8f0ccfc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b06b58f2e44d813ee5b61e4dfd7d6c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a5b06b58f2e44d813ee5b61e4dfd7d6c6">removeDataFile</a> (unsigned int id)</td></tr>
<tr class="separator:a5b06b58f2e44d813ee5b61e4dfd7d6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c390e776f0d7665ee27fbadb27635c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a3c390e776f0d7665ee27fbadb27635c8">addRawSignature</a> (const std::vector&lt; unsigned char &gt; &amp;signature)</td></tr>
<tr class="separator:a3c390e776f0d7665ee27fbadb27635c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a358d620372e716b4078827d845d66e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a4a358d620372e716b4078827d845d66e">addRawSignature</a> (std::istream &amp;signature)</td></tr>
<tr class="separator:a4a358d620372e716b4078827d845d66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3754e48dd89c1fbd669c7447265bfb82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedigidoc.html#a38a26c235d13b3bed8efebe17337ca0b">SignatureList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a3754e48dd89c1fbd669c7447265bfb82">signatures</a> () const </td></tr>
<tr class="separator:a3754e48dd89c1fbd669c7447265bfb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71519f2249465f0a442b35b4f090f8e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a71519f2249465f0a442b35b4f090f8e8">removeSignature</a> (unsigned int id)</td></tr>
<tr class="separator:a71519f2249465f0a442b35b4f090f8e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeebd1e91df618072c708c3f53fd95127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdigidoc_1_1Signature.html">Signature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#aeebd1e91df618072c708c3f53fd95127">sign</a> (<a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *signer)</td></tr>
<tr class="separator:aeebd1e91df618072c708c3f53fd95127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e3362863650571c0621a0994fcc0ff8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdigidoc_1_1Signature.html">Signature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a1e3362863650571c0621a0994fcc0ff8">sign</a> (<a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *signer, const std::string &amp;profile)</td></tr>
<tr class="separator:a1e3362863650571c0621a0994fcc0ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25133f09372fd92d52f17d96b79daddc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdigidoc_1_1Signature.html">Signature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a25133f09372fd92d52f17d96b79daddc">sign</a> (const std::string &amp;city, const std::string &amp;stateOrProvince, const std::string &amp;postalCode, const std::string &amp;countryName, const std::vector&lt; std::string &gt; &amp;signerRoles, const std::string &amp;pin, bool useFirstCertificate=true)</td></tr>
<tr class="separator:a25133f09372fd92d52f17d96b79daddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Offers functionality for handling data files and signatures in a container. </p>
<p><a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container. ">Container</a> can contain several files and all these files can be signed using signing certificates. <a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container. ">Container</a> can only be signed if it contains data files. data files can be added and removed from container only if the container is not signed. To add or remove data files from signed container remove all the signatures before modifying data files list in container. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a4379bec955a2feadd5a494580aafab23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23">digidoc::Container::DocumentType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enum to select container type to create </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a4379bec955a2feadd5a494580aafab23ac66e009f669f776fd10d4c878759cf89"></a>AsicType&#160;</td><td class="fielddoc">
<p>creates new <a class="el" href="manual.html#BDOC">BDOC 2.1</a> container with mime-type "application/vnd.etsi.asic-e+zip". See also <a class="el" href="manual.html#format">Format of digitally signed file</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4379bec955a2feadd5a494580aafab23aa4b8b3ebba2953695ebf5f82d1c9a92f"></a>BDocType&#160;</td><td class="fielddoc">
<p>creates new BDOC 1.0 container with mime-type "application/vnd.bdoc-1.0" </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd>Defauts to <a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23ac66e009f669f776fd10d4c878759cf89">digidoc::Container::AsicType</a> <dl class="section note"><dt>Note</dt><dd>the functionality of creating new files in DigiDoc file formats BDOC 1.0 is not supported.</dd></dl>
</dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4379bec955a2feadd5a494580aafab23aeaab7081fc56ce06afd4d1ba7ce64f83"></a>DDocType&#160;</td><td class="fielddoc">
<p>creates new <a class="el" href="manual.html#DDOC">DIGIDOC-XML 1.3</a> container. Note that using BDOC 2.1 format is preferred for new documents. Support for DIGIDOC-XML 1.3 format has been added to Libdigidocpp via <a class="el" href="manual.html#CDigiDoc">CDigiDoc library</a>. Note that usage of this document format is tested only indirectly via DigiDoc3 Client desktop application which uses CDigiDoc as a base layer.</p>
<dl class="section note"><dt>Note</dt><dd>the functionality of creating new files in DigiDoc file formats SK-XML, DIGIDOC-XML 1.1, DIGIDOC-XML 1.2 is not supported. </dd></dl>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0794e395ee9f937a130faa69428f1881"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Container::Container </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23">DocumentType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23ac66e009f669f776fd10d4c878759cf89">AsicType</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new container object and specify the DigiDoc container type </p>

<p>References <a class="el" href="classdigidoc_1_1Container.html#a4379bec955a2feadd5a494580aafab23aeaab7081fc56ce06afd4d1ba7ce64f83">DDocType</a>.</p>

</div>
</div>
<a class="anchor" id="ae1748afa785f26c13d9c8825d4bbd998"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Container::Container </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens container from a file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae9f5d07bfc3defda274aa06091c19f56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Container::~Container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases resources. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae690fb624e9cfb91b85a6b4c68375776"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::addDataFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mediaType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds data file from file system to the container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>a data file, which is added to the container. </td></tr>
    <tr><td class="paramname">mediaType</td><td>MIME type of the data file, for example “text/plain” or “application/msword” </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>exception is thrown if the data file path is incorrect or a data file with same file name already exists. Also, no data file can be added if the container already has one or more signatures. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Data files can be removed from container only after all signatures are removed. </dd></dl>

</div>
</div>
<a class="anchor" id="ad635fb5c44e73bc3335ddfdd463f8796"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::addDataFile </td>
          <td>(</td>
          <td class="paramtype">std::istream *&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mediaType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the data from an input stream (i.e. the data file contents can be read from internal memory buffer)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is</td><td>input stream from where data is read </td></tr>
    <tr><td class="paramname">fileName</td><td>data file name in the container </td></tr>
    <tr><td class="paramname">mediaType</td><td>MIME type of the data file, for example “text/plain” or “application/msword” </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>exception is thrown if the data file path is incorrect or a data file with same file name already exists. Also, no data file can be added if the container already has one or more signatures. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Data files can be removed from container only after all signatures are removed. </dd></dl>

</div>
</div>
<a class="anchor" id="a3c390e776f0d7665ee27fbadb27635c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::addRawSignature </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname"><em>signature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds signature to the container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>signature, which is added to the container. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>throws exception if there are no data files in container. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4a358d620372e716b4078827d845d66e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::addRawSignature </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>signature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds signature to the container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>signature, which is added to the container. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>throws exception if there are no data files in container. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77b7797f9a1546ee85e76ee8f0ccfc99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedigidoc.html#a36a87311e4d6c13ccad200433bbcadcf">DataFileList</a> Container::dataFiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of all the data files in the container </p>

</div>
</div>
<a class="anchor" id="a2ac71c2169614a133ce183d3ec4f96ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Container::mediaType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns current data file format </p>

</div>
</div>
<a class="anchor" id="a5b06b58f2e44d813ee5b61e4dfd7d6c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::removeDataFile </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes data file from container by data file id. Data files can be removed from container only after all signatures are removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>data file's id, which will be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>throws exception if the data file id is incorrect or there are one or more signatures. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a71519f2249465f0a442b35b4f090f8e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::removeSignature </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes signature from container by signature id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>signature's id, which will be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>throws exception if the signature id is incorrect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1110ba7bf37171205e2da88e83fb360f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::save </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Saves the container.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>is thrown if there was a failure saving BDOC container. For example added data file does not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeebd1e91df618072c708c3f53fd95127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdigidoc_1_1Signature.html">Signature</a> * Container::sign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *&#160;</td>
          <td class="paramname"><em>signer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signs all data files in container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signer</td><td>signer implementation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>exception is thrown if signing the container failed. </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="classdigidoc_1_1Container.html#a25133f09372fd92d52f17d96b79daddc">sign()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e3362863650571c0621a0994fcc0ff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdigidoc_1_1Signature.html">Signature</a> * Container::sign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *&#160;</td>
          <td class="paramname"><em>signer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>profile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signs all data files in container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signer</td><td>signer implementation. </td></tr>
    <tr><td class="paramname">profile</td><td>type enables to specify the signature profile. Defaults to BDOC profile with time-stamp. To create BDOC with time-mark, set the parameter value to "time-mark". See also <a class="el" href="manual.html#Supported">Supported functional properties</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation. ">Exception</a></td><td>exception is thrown if signing the container failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a25133f09372fd92d52f17d96b79daddc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdigidoc_1_1Signature.html">Signature</a> * Container::sign </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>city</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>stateOrProvince</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>postalCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>countryName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>signerRoles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useFirstCertificate</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signs all data files in container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">city</td><td>sets a signature production place signed property (optional) </td></tr>
    <tr><td class="paramname">stateOrProvince</td><td>sets a signature production place signed property (optional) </td></tr>
    <tr><td class="paramname">postalCode</td><td>sets a signature production place signed property (optional) </td></tr>
    <tr><td class="paramname">countryName</td><td>sets a signature production place signed property (optional) </td></tr>
    <tr><td class="paramname">signerRoles</td><td>the parameter may contain the signer’s role and optionally the signer’s resolution. Note that only one signer role value (i.e. one &lt;ClaimedRole&gt; XML element) should be used. If the signer role contains both role and resolution then they must be separated with a slash mark, e.g. “role / resolution”. Note that when setting the resolution value then role must also be specified. </td></tr>
    <tr><td class="paramname">pin</td><td>PIN code for accessing the private key </td></tr>
    <tr><td class="paramname">useFirstCertificate</td><td>if set to “true”, determines that the first signing certificate that is found from the certificate store is chosen for signature creation and the certificate selection’s dialog window is not displayed to the user </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classdigidoc_1_1PKCS11Signer.html#ab51b4c5707f29989c85b9fb883336e82">digidoc::PKCS11Signer::setPin()</a>, <a class="el" href="classdigidoc_1_1Signer.html#a811829fbc4a70a487301e194c1a09f76">digidoc::Signer::setSignatureProductionPlace()</a>, <a class="el" href="classdigidoc_1_1Signer.html#a9c34490317e1eafd25661acb22b0d981">digidoc::Signer::setSignerRoles()</a>, and <a class="el" href="classdigidoc_1_1Container.html#aeebd1e91df618072c708c3f53fd95127">sign()</a>.</p>

</div>
</div>
<a class="anchor" id="a3754e48dd89c1fbd669c7447265bfb82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedigidoc.html#a38a26c235d13b3bed8efebe17337ca0b">SignatureList</a> Container::signatures </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returnes list of all container's signatures. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Container.h</li>
<li>Container.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedigidoc.html">digidoc</a></li><li class="navelem"><a class="el" href="classdigidoc_1_1Container.html">Container</a></li>
    <li class="footer">Generated on Thu Feb 19 2015 14:37:40 for libdigidocpp by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
